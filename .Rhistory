summarise(n=n())%>%
spread(`mown`, n)
df <- readRDS(file.path(path_grassplot, 'Grassplot 1.8_Data.rds'))
df <- df %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
?ifelse
df[df$`Dataset ID` == 'EU_K',] %<>%
mutate(mown = ifelse(mowing_frequency != '0', 1))
df%>%
subset(`Dataset ID` == 'EU_K')%>%
group_by(`mown`,
`mowing_frequency`, `abandoned`, `natural_grassland`)%>%
summarise(n=n())%>%
spread(`mown`, n)
df <- readRDS(file.path(path_grassplot, 'Grassplot 1.8_Data.rds'))
df <- df %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
df%>%
subset(`Dataset ID` == 'EU_K')%>%
group_by(`mown`,
`mowing_frequency`, `abandoned`, `natural_grassland`)%>%
summarise(n=n())%>%
spread(`mown`, n)
df[df$`Dataset ID` == 'EU_K',] %<>%
mutate(mown = ifelse(mowing_frequency != '0', 1, 0))
df%>%
subset(`Dataset ID` == 'EU_K')%>%
group_by(`mown`,
`mowing_frequency`, `abandoned`, `natural_grassland`)%>%
summarise(n=n())%>%
spread(`mown`, n)
df <- readRDS(file.path(path_grassplot, 'Grassplot 1.8_Data.rds'))
df <- df %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
df[df$`Dataset ID` == 'EU_K',] %<>%
mutate(mown = ifelse(!is.na(mowing_frequency), 1))
df[df$`Dataset ID` == 'EU_K',] %<>%
mutate(mown = ifelse(!is.na(mowing_frequency), 1, 0))
df%>%
subset(`Dataset ID` == 'EU_K')%>%
group_by(`mown`,
`mowing_frequency`, `abandoned`, `natural_grassland`)%>%
summarise(n=n())%>%
spread(`mown`, n)
df[df$`Dataset ID` == 'EU_K',] %<>%
mutate(mown = ifelse(is.element(mowing_frequency, c('0.03', '0.05')), 0, 1))
df%>%
subset(`Dataset ID` == 'EU_K')%>%
group_by(`mown`,
`mowing_frequency`, `abandoned`, `natural_grassland`)%>%
summarise(n=n())%>%
spread(`mown`, n)
df <- readRDS(file.path(path_grassplot, 'Grassplot 1.8_Data.rds'))
df <- df %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
df[df$`Dataset ID` == 'EU_K',] %<>%
mutate(mown = ifelse(!is.na(mowing_frequency), 1, 0))
df[df$`Dataset ID` == 'EU_K',] %<>%
mutate(mown = ifelse(is.element(mowing_frequency, c('0.03', '0.05')), 0, .))
df%>%
subset(`Dataset ID` == 'EU_K')%>%
group_by(`mown`,
`mowing_frequency`, `abandoned`, `natural_grassland`)%>%
summarise(n=n())%>%
spread(`mown`, n)
df <- readRDS(file.path(path_grassplot, 'Grassplot 1.8_Data.rds'))
df <- df %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
df[df$`Dataset ID` == 'EU_K',] %<>%
mutate(mown = ifelse(!is.na(mowing_frequency), 1, 0))
df[df$`Dataset ID` == 'EU_K',] %<>%
mutate(mown = ifelse((is.element(mowing_frequency, c('0.03', '0.05')) & !is.na(mowing_frequency), 0, 1))
df[df$`Dataset ID` == 'EU_K',] %<>%
mutate(mown = ifelse((is.element(mowing_frequency, c('0.03', '0.05')) & !is.na(mowing_frequency)), 0, 1))
df%>%
subset(`Dataset ID` == 'EU_K')%>%
group_by(`mown`,
`mowing_frequency`, `abandoned`, `natural_grassland`)%>%
summarise(n=n())%>%
spread(`mown`, n)
df[df$`Dataset ID` == 'EU_K',] %<>%
mutate(mown = ifelse((is.element(mowing_frequency, c('0.03', '0.05')) & is.na(mowing_frequency)), 0, 1))
df%>%
subset(`Dataset ID` == 'EU_K')%>%
group_by(`mown`,
`mowing_frequency`, `abandoned`, `natural_grassland`)%>%
summarise(n=n())%>%
spread(`mown`, n)
df <- readRDS(file.path(path_grassplot, 'Grassplot 1.8_Data.rds'))
df <- df %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
df[df$`Dataset ID` == 'EU_K',] %<>%
mutate(mown = ifelse(!is.na(mowing_frequency), 1, 0))
df[df$`Dataset ID` == 'EU_K',] %<>%
mutate(mown = ifelse((is.element(mowing_frequency, c('0.03', '0.05')) & is.na(mowing_frequency)), 0, 1))
df%>%
subset(`Dataset ID` == 'EU_K')%>%
group_by(`mown`,
`mowing_frequency`, `abandoned`, `natural_grassland`)%>%
summarise(n=n())%>%
spread(`mown`, n)
df_orig <- readRDS(file.path(path_grassplot, 'Grassplot 1.8_Data.rds'))
df <- df_orig %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
df[df$`Dataset ID` == 'EU_K',] %<>%
mutate(mown = ifelse(!is.na(mowing_frequency), 1, 0))
df%>%
subset(`Dataset ID` == 'EU_K')%>%
group_by(`mown`,
`mowing_frequency`, `abandoned`, `natural_grassland`)%>%
summarise(n=n())%>%
spread(`mown`, n)
df[df$`Dataset ID` == 'EU_K',] %<>%
mutate(mown = ifelse((is.element(mowing_frequency, c('0.03', '0.05')) | is.na(mowing_frequency)), 0, 1))
df%>%
subset(`Dataset ID` == 'EU_K')%>%
group_by(`mown`,
`mowing_frequency`, `abandoned`, `natural_grassland`)%>%
summarise(n=n())%>%
spread(`mown`, n)
df <- df_orig %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
df%>%
subset(`Dataset ID` == 'CZ_J')%>%
group_by(`mown`,
`mowing_frequency`, `abandoned`, `natural_grassland`)%>%
summarise(n=n())%>%
spread(`mown`, n)
df <- df_orig %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
df%>%
subset(`Dataset ID` == 'IR_A')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df%>%
subset(`Dataset ID` == 'IR_A')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df <- df_orig %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
df%>%
subset(`Dataset ID` == 'PL_D')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df_orig <- readRDS(file.path(path_grassplot, 'Grassplot 1.8_Data.rds'))
df <- df_orig %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
df%>%
subset(`Dataset ID` == 'TR_B')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df%>%
subset(`Dataset ID` == 'UA_G')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df%>%
subset(`Dataset ID` == 'EU_K')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df%>%
subset(`Dataset ID` == 'IR_A')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df[df$`Dataset ID` == 'IR_A',] %<>%
mutate(mown = ifelse(grazing_intensity == '0.1', 1, 0))
df%>%
subset(`Dataset ID` == 'IR_A')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df <- df_orig %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
df%>%
subset(`Dataset ID` == 'IR_A')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df[df$`Dataset ID` == 'IR_A',] %<>%
mutate(grazing = ifelse(grazing_intensity == '0.1', 1, 0))
df%>%
subset(`Dataset ID` == 'IR_A')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df[df$`Dataset ID` == 'IR_A',] %<>%
mutate(grazed = ifelse(grazing_intensity == '0.1', 1, 0))
df%>%
subset(`Dataset ID` == 'IR_A')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df <- df_orig %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
df%>%
subset(`Dataset ID` == 'IR_A')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df[df$`Dataset ID` == 'IR_A',] %<>%
mutate(grazed = ifelse(grazing_intensity != '0' | !is.na(grazing_intensity), 1, 0))
df%>%
subset(`Dataset ID` == 'IR_A')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df <- df_orig %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
df%>%
subset(`Dataset ID` == 'IR_A')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df[df$`Dataset ID` == 'IR_A',] %<>%
mutate(grazed = ifelse(grazing_intensity != '0'), 1, 0))
df[df$`Dataset ID` == 'IR_A',] %<>%
mutate(grazed = ifelse(grazing_intensity != '0', 1, 0))
df%>%
subset(`Dataset ID` == 'IR_A')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df <- df_orig %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
df%>%
subset(`Dataset ID` == 'IR_A')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df[df$`Dataset ID` == 'IR_A',] %<>%
mutate(grazed = ifelse(grazing_intensity != '0', 1, 0))
df%>%
subset(`Dataset ID` == 'IR_A')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df%>%
subset(`Dataset ID` == 'PL_D')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df[df$`Dataset ID` == 'PL_D',] %<>%
mutate(grazed = ifelse(grazing_intensity == '0.5', 1, 0))
df%>%
subset(`Dataset ID` == 'PL_D')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df%>%
subset(`Dataset ID` == 'TR_B')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df[df$`Dataset ID` == 'TR_B' & df$grazing_intensity == '0.1',] %<>%
mutate(grazed = 1)
df%>%
subset(`Dataset ID` == 'TR_B')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df%>%
subset(`Dataset ID` == 'UA_G')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
table(df[df$`Dataset ID` == 'UA_G']$grazing_intensity)
table(df[df$`Dataset ID` == 'UA_G',]$grazing_intensity)
dim(df[df$`Dataset ID` == 'UA_G',]$grazing_intensity)
dim(df[df$`Dataset ID` == 'UA_G',])
df[df$`Dataset ID` == 'UA_G',] %<>%
mutate(grazed = ifelse(is.element(grazing_intensity,
c('high', 'low', 'middle', 'overgrazing'), 1, 0)
df%>%
subset(`Dataset ID` == 'UA_G')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df[df$`Dataset ID` == 'UA_G',] %<>%
mutate(grazed = ifelse(is.element(grazing_intensity,
c('high', 'low', 'middle', 'overgrazing'), 1, 0)))
df%>%
subset(`Dataset ID` == 'UA_G')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df[df$`Dataset ID` == 'UA_G',] %<>%
mutate(grazed = ifelse(is.element(grazing_intensity,
c('high', 'low', 'middle', 'overgrazing')), 1, 0))
df%>%
subset(`Dataset ID` == 'UA_G')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df%>%
subset(`Dataset ID` == 'EU_K')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df[df$`Dataset ID` == 'EU_K' & df$grazing_intensity == '0.5',] %<>%
mutate(grazed = 1)
dim(df[df$`Dataset ID` == 'EU_K' & df$grazing_intensity == '0.5',])
dim(df[df$`Dataset ID` == 'EU_K',])
dim(df[df$`Dataset ID` == 'EU_K' & df$grazing_intensity == '0.5',])
table(df[df$`Dataset ID` == 'EU_K', 'grazing_intensity'])
dim(df[df$`Dataset ID` == 'EU_K' & df$grazing_intensity == '5',])
table(df$grazing_intensity)
dim(df[df$`Dataset ID` == 'EU_K' & df$`grazing_intensity `== '5',])
dim(df[df$`Dataset ID` == 'EU_K' & df$`grazing_intensity `== '0.5',])
dim(df[df$`Dataset ID` == 'EU_K' & df$`grazing_intensity`== '0.5',])
dim(df[df$`grazing_intensity`== '0.5',])
dim(df[df$`grazing_intensity`== 'middle',])
dim(df[df$`grazing_intensity`!= 'middle',])
df2 <- as.data.frame(df)
dim(df[df$`grazing_intensity`== 'middle',])
dim(df[df$grazing_intensity == 'middle',])
180077 - 173546
sum(table(df$grazing_intensity))
class(df$grazing_intensity)
unique(df$grazing_intensity)
dim(df[df$grazing_intensity == "middle",])
sum(df$grazing_intensity == "middle")
sum(df$grazing_intensity == "middle", na.rm =T)
sum(df2$grazing_intensity == "middle")
dim(df2[df2$grazing_intensity == "middle",])
table(df$mowing_frequency)
class(df$mowing_frequency)
dim(df[df$mowing_frequency == 1,])
dim(df[df$mowing_frequency == '1',])
class(df2)
dim(df2[df2$mowing_frequency == '1',])
dim(df2[df2$mowing_frequency != '1',])
dim(df2[df2$`Dataset ID` == `PL_D`,])
dim(df2[df2$`Dataset ID` == 'PL_D',])
sum(is.na(df$mowing_frequency))
sum(table(df$mowing_frequency))
180077-951
180077-951+468
180077-179342
951-216
180077-179861
table(df2[df2$mowing_frequency == '1',]$mowing_frequency)
df3 <- df2[df2$mowing_frequency == '1',]
table(df3$mowing_frequency)
df <- df_orig %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df3 <- df[df$mowing_frequency == '1',]
head(df3$mowing_frequency)
head(df$mowing_frequency)
179342+216
df3 <- df[na.omit(df$mowing_frequency) == '1',]
df3 <- df[df$mowing_frequency %in% '1',]
df <- df_orig %>%
mutate_at(.vars = c(95:104), funs(ifelse(. %in% c('NA', '[NA]'), NA, .)))
names(df)[c(98,100)] <- c('mowing_frequency', 'grazing_intensity')
lut <- read_excel(file.path(path_grassplot, "lookup_table_LU.xlsx" ),
sheet = 'global_land_use')
df <- df %>%
left_join(lut, by = c("Land use (5 standard categories: mown, grazed, abandoned, natural grassland, NA)" = "old_classification"))
df%>%
subset(`Dataset ID` == 'UA_G')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df[df$`Dataset ID` == 'EU_K' & df$grazing_intensity %in%
c('high', 'low', 'middle', 'overgrazing'),] %<>%
mutate(grazed = 1)
df%>%
subset(`Dataset ID` == 'UA_G')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
dim(df[df$`Dataset ID` == 'UA_G' & df$grazing_intensity %in%
c('high', 'low', 'middle', 'overgrazing'),])
df[df$`Dataset ID` == 'UA_G' & df$grazing_intensity %in%
c('high', 'low', 'middle', 'overgrazing'),] %<>%
mutate(grazed = 1)
df%>%
subset(`Dataset ID` == 'UA_G')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
df%>%
subset(`Dataset ID` == 'EU_K')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
dim(df[df$`Dataset ID` == 'UA_G' & df$grazing_intensity %in% '0.5',])
df[df$`Dataset ID` == 'EU_K' & df$grazing_intensity %in% '0.5',] %<>%
mutate(grazed = 1)
dim(df[df$`Dataset ID` == 'EU_K' & df$grazing_intensity %in% '0.5',])
df%>%
subset(`Dataset ID` == 'EU_K')%>%
group_by(`grazed`,
`grazing_intensity`, `abandoned`, `natural_grassland`, `mowing_frequency`, `mown`)%>%
summarise(n=n())%>%
spread(`grazed`, n)
table(df$`Mowing (1/0)`)
class(df$`Mowing (1/0)`)
